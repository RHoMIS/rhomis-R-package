[["index.html", "RHoMIS Book Chapter 1 About 1.1 Key Concepts", " RHoMIS Book Léo Gorman 2022-07-08 Chapter 1 About The Rural Household Multi-Indicator Survey (RHoMIS) is designed to collect data on smallholder farmers. The survey is rich in information, covering a range of topics from dietary diversity to livelihoods. With so much information available, it can often be difficult to extract, This is a book documentating how to use the RHoMIS R-package to process data collected with the Rural Household Multi-Indicator Survey. 1.1 Key Concepts Data processing occurs in three main steps: Verification of units Verification of prices and calorie conversions Calculation of final indicators "],["installation.html", "Chapter 2 Installation", " Chapter 2 Installation Currently RHoMIS is not available on CRAN, but we hope one day it will be. In the meantime, to install the RHoMIS R-package, you will need to install devtools, you can that by entering the following into the R console: install.packages(&quot;devtools&quot;) Then to install the most recent version of the R-package you can enter the following command library(devtools) devtools::install_github(&quot;https://github.com/l-gorman/rhomis-R-package&quot;, force = TRUE) "],["data-processing.html", "Chapter 3 Data Processing 3.1 Dealing with Units 3.2 Calculating Prices and Preparing Calorie Conversions 3.3 Processing the Data (Part 2) 3.4 Outputs", " Chapter 3 Data Processing You should then ensure you have a folder containing the data you would like to process. If using Rstudio interactively, set your working directory to this folder using the setwd() command. Your directory structure should look something like this: 📂 project ┗📂 raw-data ┗📜 sample_project.csv In this case, your working directory should be the project folder. 3.1 Dealing with Units 3.1.1 Extracting Units To extract new units from the data you are working with, run the code below. Set the dataFilePath to the path of your RHoMIS raw-data file. library(rhomis) new_units &lt;- processData( extractUnitsOnly = T, # The stage of data processing # Arguments to indicate the type of processing being done (local or on server) dataSource = &quot;csv&quot;, outputType = &quot;csv&quot;, # Arguments used for processing local data sets dataFilePath = &quot;raw-data/sample_project.csv&quot;, id_type = &quot;string&quot;, proj_id = &quot;my_project_id&quot;, form_id = &quot;my_form_id&quot; ) If you now go back to your project directory, you should be able to see that more files have been added: 📂 project ┣📂 raw-data ┃ ┗📜 sample_project.csv ┣📂 .original_units ┃ ┣📜 crop_yield_units.csv ┃ ┣📜 country.csv ┃ ┗📜 ... ┗📂 units_and_conversions ┣📜 country.csv ┗📜 ... The .original_units folder includes the units directly calculated from the data. This folder will likely be hidden unless you change the settings on your file browser. The units_and_conversions folder should will include the units which you will verify and change. 3.1.2 Converting Units Please note, while you do not have to convert units for the next step in the calculations to run, uncoverted units will be ignored and will lead to unnecessary missing values In the project/units_and_conversions directory, you will find a series of csv files with conversion factors that need to be filled in. Each file will look like the table below. The first column indicates a value which was found in the survey. The second column shows the conversion factor which ought to be used. Where the conversion factor is unknown, the column will display NA. Where the conversion factor is known it will be provided. Known conversion factors are already embedded in the R-package. id_rhomis_dataset survey_value conversion x foo NA x bar NA There are a range of conversions to enter and it is important to be aware which units are needed. Each file is described in more detail below: File Description Example Survey Value Example Conversion bees_honey_production_units.csv The conversion factor should be used to convert to kilograms/litres. buckets_12_litre 12 country.csv The conversion factor should be used to convert country names to two-letter ISO country codes. uganda UG crop_name.csv The name of crops entered in the survey. Often enumerators may specify “other” crops in a free-text-entry field. Sometimes these crops can be mispelt, or in a language other than English. Here we correct mispellings and translations into standard forms (all lower case) maze maize crop_sold_price_quantityunits.csv The price units for crops which were sold. Please note that only one unit will be converted into a string, “total_income_per_year” will be converted to “total_income_per_year” as this is treated as a special case in the analysis scripts. price_per_50kg_sack 0.02 crop_yield_units.csv The unit of crops which have been collected. This needs to be converted to kilograms cart_250kg 250 eggs_sold_price_timeunits.csv The amount of money made per unit time for selling eggs. This needs to be converted into an income per year income for 3 months 4 eggs_units.csv The number of eggs collected per year pieces/day 365 fertiliser_units.csv The amount of fertiliser in kg sacks_25kg 25 livestock_name.csv The names of livestock entered in the survey. As with crop names, enumerators can also enter extra livestock names which are in a different language or mispelt. This conversion is used to standardise livestock names entered in the survey catel cattle milk_sold_price_timeunits.csv The amount of money made per unit volume or per unit time. For unit time, the options are “day”, “week”, “month”, “year”. These time units must be entered as strings. For the unit volume, numeric conversions must be entered month month 0.3litre 0.3 milk_units.csv The amount of milk collected in litres per year. There are a number of exceptions which must be kept as text strings, and are dealt with in the analysis scripts (e.g. “per animal per day” and “l/animal/day” l/day 365 unitland.csv The amount of land in hectares acres 0.4 3.2 Calculating Prices and Preparing Calorie Conversions As with unit extraction, ensure you are in the project directory. Then enter the commands below: library(rhomis) new_units &lt;- processData( extractUnitsOnly = F, # The stage of data processing calculateInitialIndicatorsOnly = T, # The stage of data processing # Arguments to indicate the type of processing being done (local or on server) dataSource = &quot;csv&quot;, outputType = &quot;csv&quot;, # Arguments used for processing local data sets dataFilePath = &quot;raw-data/sample_project.csv&quot;, id_type = &quot;string&quot;, proj_id = &quot;my_project_id&quot;, form_id = &quot;my_form_id&quot; ) You will now see that the directory structure again looks quite different: 📂 project ┣📂 raw-data ┃ ┗📜 sample_project.csv ┣📂 original_units ┃ ┣📜 bees_honey_production_units.csv ┃ ┣📜 crop_name.csv ┃ ┗📜 ... ┗📂 units_and_conversions ┃ ┣📜 country.csv ┃ ┗📜 ... ┣📂 .original_calorie_conversions ┃ ┣📜 crop_calories.csv ┃ ┣📜 eggs_calories.csv ┃ ┗📜 ... ┗📂 calorie_conversions ┃ ┣📜 crop_calories.csv ┃ ┗📜 ... ┣📂 .original_prices ┃ ┣📜 crop_calories.csv ┃ ┣📜 eggs_calories.csv ┃ ┗📜 ... ┗📂 mean_prices ┃ ┣📜 crop_calories.csv ┃ ┗📜 ... ┣📂 crop_data ┃ ┣📜 crop_consumed_kg_per_year.csv ┃ ┣📜 crop_harvest_kg_per_year.csv ┃ ┗📜 ... ┣📂 indicator_data ┃ ┗📜 indicators.csv ┣📂 livestock_data ┃ ┣📜 crop_consumed_kg_per_year.csv ┃ ┣📜 crop_consumed_kg_per_year.csv ┃ ┗📜 ... ┣📂 off_farm_data ┃ ┣📜 offfarm_income_name.csv ┃ ┣📜 offfarm_who_control_revenue.csv ┃ ┗📜 ... ┗📂 processed_data ┗📜 processed_data.csv 3.2.1 Converting Units As with the units which were extracted, you will also need to verify prices (in the units_and_conversions folder) and calorie values (in the calorie_conversions folder). Prices will be in lcu/kg for crops, meat, and eggs (where lcu is local currency units). Prices will be in lcu/l for milk and honey. And prices will be in lcu/animal for whole livestock sales. For calorie values, conversions will be in kcal/kg or kcal/l. Please note any folder with a dot before it will not be visible by default in most file explorers 3.3 Processing the Data (Part 2) Using the calories and prices you have converted, you will then be able to produce the final indicators. Either run the code below, or run the 03-calculate-final-indicators.R file. library(rhomis) new_units &lt;- processData( extractUnitsOnly = F, # The stage of data processing calculateFinalIndicatorsOnly = T, # The stage of data processing # Arguments to indicate the type of processing being done (local or on server) dataSource = &quot;csv&quot;, outputType = &quot;csv&quot;, # Arguments used for processing local data sets dataFilePath = &quot;raw-data/sample_project.csv&quot;, id_type = &quot;string&quot;, proj_id = &quot;my_project_id&quot;, form_id = &quot;my_form_id&quot; ) You will now see the directory includes some extra folders: You will now see that the directory structure again looks quite different: 📂 project ┣📂 raw-data ┃ ┗📜 sample_project.csv ┣📂 processed_data ┃ ┗📜 processed_data.csv ┣📂 .original_units ┃ ┣📜 bees_honey_production_units.csv ┃ ┣📜 crop_name.csv ┃ ┗📜 ... ┗📂 units_and_conversions ┃ ┣📜 country.csv ┃ ┗📜 ... ┣📂 .original_calorie_conversions ┃ ┣📜 crop_calories.csv ┃ ┣📜 eggs_calories.csv ┃ ┗📜 ... ┗📂 calorie_conversions ┃ ┣📜 crop_calories.csv ┃ ┗📜 ... ┣📂 .original_prices ┃ ┣📜 crop_calories.csv ┃ ┣📜 eggs_calories.csv ┃ ┗📜 ... ┗📂 mean_prices ┃ ┣📜 crop_calories.csv ┃ ┗📜 ... ┣📂 crop_data ┃ ┣📜 crop_consumed_kg_per_year.csv ┃ ┣📜 crop_harvest_kg_per_year.csv ┃ ┗📜 ... ┣📂 indicator_data ┃ ┗📜 indicators.csv ┣📂 livestock_data ┃ ┣📜 crop_consumed_kg_per_year.csv ┃ ┣📜 crop_consumed_kg_per_year.csv ┃ ┗📜 ... ┣📂 off_farm_data ┃ ┣📜 offfarm_income_name.csv ┃ ┣📜 offfarm_who_control_revenue.csv ┃ ┗📜 ... ┗📂 processed_data ┃ ┗📜 processed_data.csv ┣📂 consumption_calorie_values ┃ ┣📜 crop_calories_consumed_kcal.csv ┃ ┣📜 milk_calories_consumed_kcal.csv ┃ ┗📜 ... ┣📂 consumption_lcu_values ┃ ┣📜 value_crop_consumed_lcu.csv ┃ ┣📜 value_eggs_consumed_lcu.csv ┃ ┗📜 ... ┗📂 gender_control ┣📂 gender_control_amounts_consumed ┣📂 gender_control_income ┗📂 ... 3.4 Outputs 3.4.1 Indicators Indicators calculated whilst the data was being processed. These cover a range of topics, including incomes, dietary diversity, and household demographics. The indicators calculated depend on the columns present in the original raw-data.csv file. 3.4.2 Crop Data Found in the crop_data directory, in each of the csvs, a column represents the crops listed in the survey, each row represents one household (in the same row order as the original dataset) 3.4.3 Livestock Data Found in the livestock_data directory, in each of the csvs, a column represents the types of livestock listed in the survey, again each row represents a household. 3.4.4 Off-farm Data Found in the off_farm_data directory, in each of the csvs, a column represents an off-farm activity, and each row represents a household. 3.4.5 Consumption Calories Found in the consumption_calorie_values directory, in each of the csvs, a column represents the products listed in the survey, and each row represents a household. 3.4.6 Consumption value Found in the consumption_lcu_values directory, in each of the csvs, a column represents products listed in the survey, and each row represents a household. 3.4.7 Gender Control Found in the gender_control directory, in each of the csvs, a column represents products listed in the survey, and each row represents a household. "],["indicators-explained.html", "Chapter 4 Indicators Explained 4.1 Where to start", " Chapter 4 Indicators Explained The core RHoMIS survey contains over 750 variables. These are used to calculate key indicators, such as total_income_lcu_per_year. This guide is designed to explain: How some of the main indicators are calculated How variables are linked How you can explore these calculations and indicators yourself In order to make the most of this guide, you should have a sample RHoMIS dataset, to see how to process a “Raw” RHoMIS dataset, and produce indicators from this dataset, please see data processing 4.1 Where to start Firstly, plot_dependency_network( indicator_name=&quot;crop_sold_kg_per_year&quot;, indicator_list=indicator_list ) "],["reporting-issues.html", "Chapter 5 Reporting Issues 5.1 Reporting Issues", " Chapter 5 Reporting Issues 5.1 Reporting Issues Please report any problems or requests you encounter in the issues section of this repo. "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
