# Indicators Explained

The core RHoMIS survey contains over 750 variables.
These are used to calculate key indicators, such as 
`total_income_lcu_per_year`. 

This guide is designed to explain:

1. How some of the main indicators are calculated
2. How variables are linked
3. How you can explore these calculations and indicators yourself

In order to make the most of this guide, you should have a sample RHoMIS 
dataset, to see how to process a "Raw" RHoMIS dataset, and produce indicators
from this dataset, please see [data processing][Data Processing]

## Where to start

Firstly, we have created a list of indicators. To see
the names of all of the indicators, enter the following command:

```{r indicator_names, warning=FALSE, message=FALSE, eval=F}
names(indicator_list)
```

There are a lot of indicators here. Some of them you will find as standalone columns
in the RHoMIS Indicators Table. Others you will find in a looped format, in the processed
data. To find out more about an indicator, you can do as follows:


## Assumptions

* If a single use is provided, then all of the mass is used for consumption (not accounting for waste)


## Indicators

Below we have a table of all of the indicators calculated in the RHoMIS core. 

```{r generating_indicators, eval=T, echo=F,, warning=F}
# library("widgetframe")
library(DT)
dir.create('./_book/images/indicator_plots/', recursive = T,showWarnings = F)

data_table <- indicator_mapping_to_df()
data_table$links <- paste0('<a href="./images/indicator_plots/',data_table$indicator_name,'.html" target="_blank" >a link</a>') 
DT::datatable(data_table,
              extensions = 'Buttons',
              escape = FALSE,
              options = list(
                  
                  dom = 'Blfrtip',
                  scrollX = TRUE,
                  buttons = list(
                      'copy',
                      list(
                          extend = 'collection',
                          buttons = c('csv', 'excel'),
                          text = 'Download'
                      )
                  )
                  
                 ))

for(indicator_index in c(1:length(indicator_list))){

    indicator <- indicator_list[[indicator_index]]

    plot <- plot_dependency_network(indicator$indicator_name)

    # Saving the widget
    htmlwidgets::saveWidget(plot,
                            file =      paste0("./_book/images/indicator_plots/",indicator$indicator_name,'.html'),
                            selfcontained = F,
                            libdir = "lib")
   
}

``` 


